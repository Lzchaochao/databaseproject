<!DOCTYPE doctype html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    <title>
        DingDang-管理你的时间
    </title>
    <script src="/webjars/jquery/3.4.0/jquery.min.js"></script>
    <script src="/webjars/vue/2.6.10/dist/vue.min.js"></script>
    <link href="/webjars/layui/2.5.5/css/layui.css" rel="stylesheet"/>
    <script src="/webjars/layui/2.5.5/layui.js"></script>
    <link href="/css/doc.css" rel="stylesheet"/>
</head>
<body>
<div style="width: 1050px;margin-left: auto;margin-right: auto;overflow-scrolling: auto">
    <div class="catalog-body">
        <div class="catalog-title">
            <p class="catalog-title-left">&ensp;</p>
            <h4>主页链接</h4>
        </div>
        <ul>
            <li><a href="/main">返回主页</a></li>
            <li><a href="/login">登录</a></li>
        </ul>
        <div class="catalog-title">
            <p class="catalog-title-left">&ensp;</p>
            <h4>超超超说</h4>
        </div>
        <ul>
            <li><a href="#before">前言</a></li>
            <li><a href="#normal">通用功能介绍</a></li>
        </ul>
        <div class="catalog-title">
            <p class="catalog-title-left"> &ensp;</p>
            <h4> 模块介绍</h4>
        </div>
        <ul>
            <li><a href="#organization">组织相关</a></li>
            <li><a href="#course">课表功能</a></li>
            <li><a href="#mail">邮件功能</a></li>
        </ul>
        <div style="position: fixed; bottom: 20px;margin-left: 20px;color: #a2a2a2;line-height: 25px">
            dingdang.info
            <br>
            made by ccc at 2020
            <br>
            <a href="http://www.miit.gov.cn/">粤ICP备20019128号-1</a>
        </div>
    </div>
    <div style="float: right;width: 800px;margin-right:20px;padding-bottom: 100px">
        <!--超超超说-->
        <div>
            <h1>DingDang-管理你的时间</h1>
            <br>
            <blockquote class="layui-elem-quote">本篇使用教程将尽可能地让你了解DingDang是用来干嘛的</blockquote>
            <fieldset class="layui-elem-field layui-field-title">
                <legend id="before">前言</legend>
                <div class="layui-field-box content-description">
                    DingDang是一个个人开发项目，旨在“聚合”大家容易忘记的时间。本项目面对的是有自我规划同时还整天都能收到各种通知的在校大学生（当然并不是说只有在校大学生才能使用，只要DingDang可以帮到你，那将是一件非常让超超超开心的事情），尤其对于华南农业大学的学生，因为本项目加入了SCAU课表功能。
                </div>
                <div class="layui-field-box content-description">
                    如果你在使用过程中有什么问题需要反馈或者有什么好的建议的话，都可以通过导航栏提供的联系方式联系到超超超
                </div>
            </fieldset>
            <fieldset class="layui-elem-field layui-field-title">
                <legend id="user">对于个人</legend>
                <div class="layui-field-box content-description">
                    如果你是一个有较强自我规划能力的人，或者你是一个记性不是很好的人（比如我），那么你可能使用过某一款时间管理软件用来帮助你记录、规划自己的时间安排，这不得不说是一个很好的习惯。
                </div>
                <div class="layui-field-box content-description">
                    DingDang沿袭了绝大部分时间管理软件的操作习惯和功能，比如添加、编辑自己的计划任务，应该可以说，在操作上你不需要担心过渡的问题。
                </div>
            </fieldset>
            <fieldset class="layui-elem-field layui-field-title">
                <legend>对于团队</legend>
                <div class="layui-field-box content-description">
                    如果你是一个在校大学生（比如超超超）那么你肯定会有****通知群、****禁水群,然后一般情况下通知就是一顿乱发，当你想要查找某一个发布过的通知时，那肯定会脑壳疼（别问我为什么知道）
                </div>
                <div class="layui-field-box content-description">
                    可以说，DingDang一开始就是超超超开发来解决这个痛点的，在DingDang，你可以加入某个事先已经创建好的团队（比如你的班级），当团队的管理员发布任务，团队的所有成员都将收到这个任务，它可以选择性地和你自己创建的任务在一起以时间轴的形式显示，这样子的话可能真的就方便多了，当然如果你不想收到通知，你也可以选择屏蔽组织啊。
                </div>
            </fieldset>
            <fieldset class="layui-elem-field layui-field-title">
                <legend>课表功能</legend>
                <div class="layui-field-box content-description">
                    如果你是SCAU的学生，那么你肯定使用过华农宝的课表功能，可以说华农宝确实服务了很多学生。但是华农宝的课表有一个不好的地方，他没法编辑或添加课程，可能对于绝大部分情况来说是完全没有问题的，但是超超超上一个学期有五节实验课，每次上课之前都要问同学在那上课（记性不好啊），所以既然可以，那就要追求更好啊，这才是程序员使用代码的正确方式啊（确信）。
                </div>
                <div class="layui-field-box content-description">
                    对于你从教务系统获取到的课表，DingDang支持你修改任意字段，比如当课程调课了的时候，你可以自己为课程修改上课时间；比如实验课一般课表上是没有课室信息的，你可以自己添加上。对于其他学校的也想要使用课表功能的同学，可以私底下找一下超超超哦。
                </div>
            </fieldset>
            <blockquote class="layui-elem-quote layui-quote-nm">以上三个功能就是DingDang的全部了，对于细节上的功能和操作，请看下面的详细介绍吧。
            </blockquote>
            <br>
            <fieldset class="layui-elem-field layui-field-title">
                <legend id="normal">通用功能介绍</legend>
                <div class="layui-field-box content-description">
                    在各个任务及团队管理页面中，DingDang都提供了一定程度上的搜索功能
                </div>
            </fieldset>
            <fieldset class="layui-elem-field">
                <legend>搜索页功能布局</legend>
                <div class="layui-field-box content-description" style="width: 758px; padding: 20px">
                    <form class="layui-form">
                        <div class="layui-form-item layui-inline" style="margin-right: 20px">
                            <input class="layui-input" id="searchTitle" autocomplete="off" placeholder=输入搜索条件>
                        </div>
                        <div class="layui-form-item layui-input-inline">
                            <input type="checkbox" title="标题" checked id="search-title">
                            <input type="checkbox" title="描述" checked id="search-desc">
                        </div>
                        <div class="layui-form-item layui-input-inline" style="margin-left: 40px">
                            <input type="checkbox" title="过期的任务" checked id="search-before">
                            <input type="checkbox" title="完成的任务" checked id="search-done">
                        </div>
                    </form>
                    <table class="layui-hide" id="table" lay-filter="option"></table>
                    <script type="text/html" id="toolbarDemo"></script>
                    <script type="text/html" id="switchTpl">
                        <input type="checkbox" name="done" value="{{d.litterId}}" lay-skin="switch"
                               lay-text="是|否"
                               lay-filter="doneSelect"
                               {{ d.done ? 'checked' : '' }}  {{ d.before ? 'disabled' : '' }}>
                    </script>
                    <script type="text/html" id="optionsbar">
                        <a lay-event="edit" {{ d.before
                           ? 'class="layui-btn layui-btn-xs layui-btn-disabled"' : 'class="layui-btn layui-btn-xs"'}}>修改</a>
                        <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="delete">删除</a>
                    </script>
                </div>
            </fieldset>
            <div class="content-text">1.对于每个标题，你都可以通过点击来对数据进行<b>排序</b>，这可以极大程度上提高你的检索效率。</div>
            <div class="content-text">
                2.已经截止的任务或已经被你标记为完成的任务默认不显示，但你可以通过点击“过期的任务”和“完成的任务”来选择显示出他们，因为你可能需要用于导出或查看。
            </div>
            <div class="content-text">3.说到导出，看到表格右上角那个文件的图标没有，点击它，你可以把当前过滤后的列表<b>导出</b>为Excel文件。</div>
            <div class="content-text">4.已经过期的任务是<b>不允许修改的</b>，当你选择查看过期的任务时，它们的“截止时间”会显示为红色。</div>
            <div class="content-text">5.未到截止时间的任务，你可以修改它的所有基本信息，同时，你也可以快速地将其<b>标记为完成</b>。</div>
            <div class="content-text">6.如果“介绍”的内容太多，默认会将其<b>隐藏</b>，如果你想查看剩余的内容，光标移动到那个单元格，点击即可显示全部内容。</div>
            <div class="content-text">7.使用<b>搜索</b>框，可以即刻返回关联的数据，同时你还可以根据后面提供的多选框来拼接自己想要的信息，支持模糊搜索。</div>
            <br>
            <blockquote class="layui-elem-quote layui-quote-nm layer-text">不多说了，你现在就可以<a href="#searchTitle"
                                                                                         style="color: #33a1bd">试一下</a>搜索功能
            </blockquote>
            <br>
            <hr>
        </div>

        <div>
            <h1>模块介绍</h1>
            <br>
            <blockquote class="layui-elem-quote">此处将只介绍一些容易被忽略的功能或者容易有歧义的功能</blockquote>


            <!--组织功能介绍-->
            <br>
            <div>
                <fieldset class="layui-elem-field layui-field-title">
                    <legend id="organization">组织相关</legend>
                    <br>
                    <div class="layui-field-box content-description">
                        可以说加入组织功能是DingDang与其他任务管理软件的最大区别，这对于大学生群体来说应该是一个不错的功能(至少超超超这么任务嘿嘿)
                    </div>
                    <div class="layui-field-box content-description">
                        首先组织的管理员先创建组织，创建完成后DingDang会给组织生成一个<b>特征码</b>用于区分每个组织，组织的其他用户可以通过(我的组织→加入的组织→加入新组织)搜索特征码找到组织并申请加入，等待管理员确认后便可加入组织。
                    </div>
                    <div class="layui-field-box content-description">
                        组织的创建者可以<b>任免</b>其他成员为管理员，解散组织
                    </div>
                    <div class="layui-field-box content-description">
                        管理员和创建者都可以发布修改任务、移除成员或审批加入组织的申请，管理员发布的任务，<b>所有</b>组织成员都会接收到。
                    </div>
                    <div class="layui-field-box content-description">
                        成员可以将组织发布的任务标记为完成，普通成员无法删除也无法编辑组织发布的任务，如果你觉得很烦不想看到那个组织的任务，那么前往组织管理(我的组织→加入的组织)页面可以将组织设置为<b>屏蔽</b>。当然如果你没有完成任务管理员还是可以看到的。
                    </div>
                </fieldset>
                <br>
                <hr>
            </div>

            <!--课表相关-->
            <div>
                <fieldset class="layui-elem-field layui-field-title">
                    <legend id="course">课表功能</legend>
                    <br>
                    <blockquote class="layui-elem-quote layui-quote-nm">仅限于SCAU新教务系统，如果其他学校的同学也想体验的话可以联系超超超哦
                    </blockquote>
                    <div class="layui-field-box content-description">
                        课表功能，应该算是一个附加功能，在开发的过程中突然就想到了，然后就加上来了
                    </div>
                    <div class="layui-field-box content-description">
                        一般我们使用的课表功能就只有更新和查看，无法自己编辑，这在有些时候其实是很难受的，于是超超超就想着把这个功能给完善了
                    </div>
                    <div class="layui-field-box content-description" style="line-height: 25px">
                        首先填写你的教务系统账号(这个是必须的啦)，点击<b>更新</b>就可以将你的课表更新到教务系统提供的课表状态，之后你就可以根据自己的需要切换到<b>编辑模式</b>进行<b>编辑、添加、删除</b>课程等操作，修改过后记得点击保存才能将你的修改<b>保存</b>到DingDang，下次登录到DingDang便会显示你的修改后的课表，如果你修改错误了想回退到教务系统提供的样子，随时可以点击“更新”
                    </div>

                </fieldset>
                <br>
                <hr>
            </div>

            <!--邮件功能-->
            <div>
                <fieldset class="layui-elem-field layui-field-title">
                    <legend id="mail">邮件功能</legend>
                    <br>
                    <blockquote class="layui-elem-quote layui-quote-nm">访问路径：用户名(右上角)→账户设置→邮件通知(左边导航栏)
                    </blockquote>
                    <div class="layui-field-box content-description">
                        为了避免用户错过一些重要的通知，DingDang提供了基本的邮件通知功能(发送到创建账户的邮箱)，如果你觉得有些通知没有必要的话，你也可以关掉它
                    </div>
                </fieldset>
                <fieldset class="layui-elem-field">
                    <legend>设置表单及默认设置</legend>
                    <div class="layui-field-box content-description" style="width: 728px; padding: 20px">
                        <form class="layui-form" style="padding-left: 20px">
                            <div class="layui-form-item" style="height: 20px;  margin-bottom: 230px">
                                <h2>
                                    任务提醒通知
                                    <sup class="layui-word-aux"
                                         style="margin-left: 10px;font-size: 14px">将在每天06:00前发送到你的邮箱</sup>
                                </h2>
                                <hr>
                                <label style="margin-bottom: 20px">在以下时间(天)内有未完成的任务时，通知我（0即为关闭此项通知）</label>
                                <div id="daySlider"
                                     style="width: 250px; margin-bottom: 20px;margin-top: 20px"></div>
                                <label>以下的任务将要到提醒时间时，提醒我</label>
                                <div style="width: 100px">
                                    <input type="checkbox" name="setting" checked title="我创建的任务"
                                           lay-skin="primary">
                                    <input type="checkbox" name="setting" checked title="未屏蔽的组织发布的任务"
                                           lay-skin="primary">
                                    <input type="checkbox" name="setting" title="已屏蔽的组织发布的任务"
                                           lay-skin="primary">
                                </div>
                            </div>

                            <div class="layui-form-item" style="height: 20px; margin-bottom: 150px">
                                <h2>
                                    组织相关通知
                                    <sup class="layui-word-aux"
                                         style="margin-left: 10px;font-size: 14px">实时发送到你的邮箱</sup>
                                </h2>
                                <hr>
                                <div style="width: 100px">
                                    <input type="checkbox" name="setting" checked title="当有人申请加入我管理的组织时，通知我"
                                           lay-skin="primary">
                                    <input type="checkbox" name="setting" checked title="当申请加入的组织同意/拒绝我加入时，通知我"
                                           lay-skin="primary">
                                    <input type="checkbox" name="setting" checked title="当我加入的组织将我设为/取消管理员时，通知我"
                                           lay-skin="primary">
                                </div>
                            </div>
                            <div class="layui-form-item" style="height: 20px; margin-bottom: 120px">
                                <h2>
                                    任务发布通知
                                    <sup class="layui-word-aux"
                                         style="margin-left: 10px;font-size: 14px">实时发送到你的邮箱</sup>
                                </h2>
                                <hr>
                                <div style="width: 100px">
                                    <input type="checkbox" name="setting" checked title="当未屏蔽的组织发布新任务时，通知我"
                                           lay-skin="primary">
                                    <input type="checkbox" name="setting" title="当已屏蔽的组织发布新任务时，通知我"
                                           lay-skin="primary">
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <button type="button" class="layui-btn" id="save-btn" style="float: left">保存设置
                                </button>
                                <div class="layui-form-mid layui-word-aux" style="margin-left: 30px">
                                    修改完一定要记得保存
                                </div>
                            </div>
                        </form>
                    </div>
                </fieldset>
                <div class="content-text"><b>任务提醒通知</b>：根据你勾选的选项，DingDang将会在<b>每天凌晨</b>的时候将相应的任务发送到你的邮箱以便你醒来的时候就可以查看到自己的DDL，当然，如果你觉得被打扰到了，你随时都可以关掉它
                </div>
                <div class="content-text"><b>组织相关通知&任务发布通知</b>：根据你勾选的选项，当有相应事件发生时，DingDang就会<b>实时</b>将相应的通知发送到你的邮箱，同样如果你不需要这个服务你也可以关掉它
                </div>
                <br>
                <blockquote class="layui-elem-quote layui-quote-nm layer-text">不多说了，你现在就可以<a href="/user"
                                                                                             style="color: #33a1bd">前去</a>设置自己的邮件通知内容
                </blockquote>
            </div>
        </div>
    </div>
</div>
</body>
<script>
    var tableData = [{
        "title": "测试标题",
        "description": "测试介绍",
        "createTime": "刚刚",
        "deadLine": "已经截止了",
        "done": false,
        "before": true
    }, {
        "title": "测试标题2",
        "description": "1234567890",
        "createTime": "刚刚",
        "deadLine": "马上",
        "done": true,
        "before": true
    }, {
        "title": "测试标题3",
        "description": "abcdefghijklmn",
        "createTime": "刚刚",
        "deadLine": "马上",
        "done": true,
        "before": false
    }, {
        "title": "测试标题4",
        "description": "测试介绍2得弄长一点长一点长一点长一点长一点长一点长一点长一点长一点",
        "createTime": "刚刚",
        "deadLine": "马上",
        "done": false,
        "before": false
    }];
    var tableIns;
    layui.use(['table', 'form', 'slider'], function () {
        var table = layui.table;
        var slider = layui.slider;
        var form = layui.form;
        tableIns = table.render({
            id: 'dataTable',
            elem: '#table',
            toolbar: '#toolbarDemo', //开启头部工具栏，并为其绑定左侧模板
            defaultToolbar: ['filter', 'exports', { //自定义头部工具栏右侧图标。如无需自定义，去除该参数即可
                title: '提示'
                , layEvent: 'toolTip'
                , icon: 'layui-icon-tips'
            }],
            parseData: function (res) { //res 即为原始返回的数据
                return {
                    "code": 1 - res.code,       //解析接口状态
                    "msg": res.msg,             //解析提示文本
                    "count": res.data.length,   //解析数据长度
                    "data": res.data            //解析数据列表
                };
            },
            title: '我的任务',
            cols: [
                [
                    {type: 'numbers'},
                    {
                        field: 'title',
                        title: '任务标题',
                        align: "center",
                        sort: true,
                        width: 100,
                        templet: function (d) {
                            return '<div style="text-align:left">' + d.title + '</div>'
                        }
                    },
                    {
                        field: 'description',
                        title: '任务描述',
                        align: "center",
                        sort: true,
                        templet: function (d) {
                            return '<div style="text-align:left">' + d.description + '</div>'
                        }
                    },
                    {field: 'createTime', title: '创建时间', width: 120, sort: true, align: "center"},
                    {
                        field: 'deadLine', title: '截止时间', width: 120, sort: true, align: "center",
                        templet: function (d) {
                            return (d.before ? '<div style="text-align:left; color:#FF5722">' : '<div style="text-align:left">') + d.deadLine + '</div>'
                        }
                    },
                    {field: 'done', title: '是否完成', templet: '#switchTpl', width: 110, sort: true, align: "center"},
                    {fixed: 'right', title: '执行操作', toolbar: '#optionsbar', width: 120, align: "center"}
                ]
            ],
            limits: [10],
            autoSort: false,
            page: true,
            height: "full",
            data: getSearchData()
        });
        table.on('sort(option)', function (obj) { //注：sort 是工具条事件名，test 是 table 原始容器的属性 lay-filter="对应的值"
            if (obj.type === 'asc') { //升序
                tableData = layui.sort(tableData, obj.field);
            } else if (obj.type === 'desc') { //降序
                tableData = layui.sort(tableData, obj.field, true);
            } else { //清除排序
                tableData = layui.sort(tableData, Object.keys(tableData[0])[0]);
            }
            reloadDataTable();
        });
        //更改checkbox状态时也重新刷新一下查找列表
        form.on('checkbox', function (data) {
            reloadDataTable();
        });

        slider.render({
            elem: '#daySlider'  //绑定元素
            , min: 0
            , max: 7
            , value: 7
            , step: 1
            , input: true
            , change: function (value) {
                mySettings.day = value;
            }
        });
    });

    $("#save-btn").click(function () {
        return false;
    });


    //搜索框每次输入时都调用标题搜索功能
    $("#searchTitle").on('input', function () {
        reloadDataTable();
    });

    //按下ESC键时清空输入框
    $(document).keydown(function (event) {
        if (event.keyCode === 27) {
            $("#searchTitle").val("");
            reloadDataTable();
        }
    });

    //传入数据更新数据列表
    function reloadDataTable() {
        tableIns.reload({
            data: getSearchData()
            , page: {
                curr: 1 //重新从第 1 页开始
            }
        });
    }

    function getSearchData() {
        var info = $("#searchTitle").val();
        var str = ".*";
        //将搜索字符串拼接成正则表达式
        for (i = 0; i < info.length; i++) {
            str += info.charAt(i) + '.*';
        }
        var reg = new RegExp(str);
        var arr = [];
        for (var i = 0; i < tableData.length; i++) {
            if (!$("#search-before").is(':checked') && tableData[i].before) {
                continue;
            }
            if (!$("#search-done").is(':checked') && tableData[i].done) {
                continue;
            }
            var checkStr = "";
            if ($("#search-title").is(':checked')) {
                checkStr += tableData[i].title;
            }
            if ($("#search-desc").is(':checked')) {
                checkStr += tableData[i].description;
            }
            if (reg.test(checkStr)) {
                arr.push(tableData[i]);
            }
        }
        return arr;
    }
</script>
</html>